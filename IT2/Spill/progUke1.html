<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        #logo {
            width: 20%;
            position: absolute;
            left: 50%;
            top: 100px;
            transform: translate(-50%, -50%);
        }

        #logotekst {
            font-style: italic;
            text-align: center;
            padding-top: 180px;
        }
        canvas {
            border: 3px solid gold;
            position: absolute;
            left: 50%;
            top: 58%;
            transform: translate(-50%, -50%);
        }

        #divScore{
            font-style: italic;
            font-weight: bold;
            text-align: center;
        }

    </style>
</head>
<body>

<img id="logo" src="FP%20LOGO.png" alt="">
<p id="logotekst"> Can he escape the wall?</p> <div id="divScore">MEXICANS DEPORTED: 0</div>

<canvas id="spillCanvas" width="768" height="404.4"></canvas>

<script>

    var c = document.getElementById("spillCanvas");
    var ctx = c.getContext("2d");
    var trumpX = 150;
    var trumpY = 182.2;
    var score = 0;
    var gravity = 1;

    var bakGrunn = new Image();
    bakGrunn.src = "AMRK.png";

    var Trump = new Image();
    Trump.src = "Trump.png";

    var gjerdeOppe = new Image();
    gjerdeOppe.src = "GjerdeOppe.png";

    var gjerdeNede = new Image();
    gjerdeNede.src = "GjerdeNede.png";

    var pipe = [];
    pipe[0] = {
      x : c.width,
      y : 0,
    };

    var konstant = gjerdeOppe.height+150;

    gameLoop();

    function gameLoop() {
        TegnTrump();
        tegnMur();
        Score();
        requestAnimationFrame(gameLoop)
    }


    function TegnTrump() {
        ctx.drawImage(bakGrunn, 0, 0, c.width, c.height);
        ctx.drawImage(Trump, trumpX, trumpY, 65, 65);
        trumpY += gravity;


    }

    function Score(){
        score += 1;
        divScore.innerHTML = "MEXICANS DEPORTED: " + Math.floor(score/60);

    }

    function tegnMur() {

        for (var i = 0; i < pipe.length ; i++){
            ctx.drawImage(gjerdeOppe, pipe[i].x, pipe[i].y);
            ctx.drawImage(gjerdeNede, pipe[i].x, pipe[i].y+konstant);
            pipe[i].x--;

            if (pipe[i].x === c.width -250){
                pipe.push({
                    x: c.width,
                    y: Math.floor(Math.random() * gjerdeOppe.height) - gjerdeOppe.height
                });
            }


        if (trumpX + 65 >= pipe[i].x && trumpX <= pipe[i].x + gjerdeOppe.width &&
            (trumpY <= pipe[i].y + gjerdeOppe.height || trumpY + 65 >= pipe[i].y+konstant) || trumpY + 65 >= c.height || trumpY <= 0){
            location.reload()
            }
        }
    }

    document.body.onkeydown = function(event) {
        if(event.code === "Space"){
            trumpY -= 25;


        }
    }
    
</script>

</body>
</html>