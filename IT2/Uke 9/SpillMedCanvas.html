<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spill med canvas</title>
</head>
<body>

<canvas id="spillCanvas" width="400" height="200"></canvas>

<script>

    //Referanser til HTML-elementer
    const spillCanvas = document.querySelector("#spillCanvas");
    const ctx = spillCanvas.getContext("2d");

    /*
    ctx.fillStyle = "red";
    ctx.fillRect(10,10,20,40);
    */

    // Globale variabler
    let firkant = {
        bredde:20,
        hoyde:30,
        farge:"blue",
        xpos:10,
        ypos:20,
        xfart:0,
        yfart:0,
        xretning:0,
        yretning:0
    };

    let firkant2 = {
        bredde:20,
        hoyde:30,
        farge:"blue",
        xpos:200,
        ypos:20,
        xfart:0,
        yfart:0,
        xretning:0,
        yretning:0
    };

    // Setup
    gameLoop();

    // Funksjonsdefinisjoner
    function gameLoop() {
        fjernFirkant(firkant);
        flyttFirkant(firkant);
        tegnFirkant(firkant); //Tegner en firkant
        requestAnimationFrame(gameLoop); //Kaller opp seg selv 60 ganger i sekundet
    }

    function tegnFirkant(figur) {
        ctx.fillStyle = figur.farge;
        ctx.fillRect(figur.xpos, figur.ypos, figur.bredde, figur.hoyde);
    }

    function flyttFirkant(figur) {
        figur.xpos += 1;
        figur.xpos = figur.xpos + (firkant.xretning*firkant.xfart);
    }
    function fjernFirkant(figur) {
        ctx.clearRect(figur.xpos, figur.ypos, figur.bredde, figur.hoyde);
    }

    /*
    function clearCanvas() {
        ctx.fillStyle = "white";
        ctx.fillRect(0,0,spillCanvas.width, spillCanvas.height);
    }
*/

</script>

</body>
</html>